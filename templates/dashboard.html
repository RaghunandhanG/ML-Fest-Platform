{% extends "base.html" %}

{% block title %}Dashboard - Team Qernels CTF{% endblock %}

{% block extra_css %}
<style>
.stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1.25rem;
    margin-bottom: 2rem;
}
.stat-tile {
    position: relative;
}
.stat-tile-shadow {
    position: absolute; inset: 0;
    background: var(--border-dark);
    border-radius: var(--radius);
    transform: translate(4px, 4px);
}
.stat-tile-inner {
    position: relative; z-index: 2;
    background: var(--bg-card);
    border: var(--border-w) solid var(--border-dark);
    border-radius: var(--radius);
    padding: 1.25rem 1rem;
    text-align: center;
}
.stat-tile .num {
    font-size: 1.85rem;
    font-weight: 800;
    color: var(--text);
    line-height: 1.1;
}
.stat-tile .lbl {
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-muted);
    margin-top: 0.25rem;
}


</style>
{% endblock %}

{% block content %}
<div class="page-title">Your Dashboard</div>
<div class="page-subtitle">Track your progress across all challenges.</div>

<div class="stats-row">
    <div class="stat-tile">
        <div class="stat-tile-shadow"></div>
        <div class="stat-tile-inner">
            <div class="num">{{ computed_total }}</div>
            <div class="lbl">Total Points</div>
        </div>
    </div>
    <div class="stat-tile">
        <div class="stat-tile-shadow"></div>
        <div class="stat-tile-inner">
            <div class="num">{{ completed_count }}</div>
            <div class="lbl">Completed</div>
        </div>
    </div>
    <div class="stat-tile">
        <div class="stat-tile-shadow"></div>
        <div class="stat-tile-inner">
            <div class="num">{{ overall_pct }}%</div>
            <div class="lbl">Overall</div>
        </div>
    </div>
</div>

{% if evaluator_name %}
<div style="margin-top:1rem;padding:0.75rem 1rem;background:var(--bg-card);border:var(--border-w) solid var(--border-dark);border-radius:var(--radius);font-size:0.9rem;font-weight:600;color:var(--text-muted);">
    Your Evaluator: <strong style="color:var(--text);">{{ evaluator_name }}</strong>
</div>
{% else %}
<div style="margin-top:1rem;padding:0.75rem 1rem;background:var(--bg-card);border:var(--border-w) solid var(--border-dark);border-radius:var(--radius);font-size:0.9rem;font-weight:600;color:var(--text-muted);">
    Your Evaluator: <span style="font-style:italic;">Not yet assigned</span>
</div>
{% endif %}
{% endblock %}
